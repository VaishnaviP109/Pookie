<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pookie Scan in Progress ğŸŒ¹</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes floatUp {0%{transform:translateY(0) scale(1) rotate(0);opacity:1}100%{transform:translateY(-240px) scale(1.4) rotate(25deg);opacity:0}}
    @keyframes wiggle {0%,100%{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}
    @keyframes pulse {0%,100%{opacity:1}50%{opacity:.4}}
    .rose{position:absolute;font-size:2rem;animation:floatUp 3s ease-out forwards}
    .wiggle{animation:wiggle .4s ease-in-out infinite;display:inline-block}
    .pulse{animation:pulse 1s infinite}
  </style>
</head>
<body class="bg-pink-50 min-h-screen flex items-center justify-center font-sans overflow-hidden">

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3?filename=romantic-background-112191.mp3" type="audio/mpeg">
</audio>

<div id="app" class="w-full flex items-center justify-center p-4"></div>

<script>
function playMusic(){document.getElementById('bgMusic').play().catch(()=>{})}
document.body.addEventListener('click',playMusic,{once:true})

function burstRoses(count){for(let i=0;i<count;i++){const r=document.createElement('div');r.className='rose';r.style.left=Math.random()*100+'%';r.style.bottom='0px';r.textContent='ğŸŒ¹';document.body.appendChild(r);setTimeout(()=>r.remove(),3000)}}

function showSenderForm(){
 document.getElementById('app').innerHTML=`
 <div class="bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center relative">
  <h1 class="text-3xl font-bold text-pink-600 mb-1">Naval Command: Delivery for <span class="wiggle">Commander Pookie</span> ğŸš¨ğŸŒ¹</h1>
  <p class="text-gray-600 mb-3 text-sm">High-alert transmission from Girlfriend Headquarters</p>
  <input id="nameInput" value="Shitanshu" class="w-full p-2 mb-2 border rounded-lg"/>
  <textarea id="messageInput" class="w-full p-2 mb-2 border rounded-lg">Happy Valentineâ€™s Day, Commander Pookie. You protect the seas, Iâ€™ll protect your heart. Deal? ğŸŒŠâ¤ï¸ğŸŒ¹</textarea>
  <input id="photoInput" placeholder="Optional cute photo link" class="w-full p-2 mb-3 border rounded-lg"/>
  <button onclick="sendRose()" class="bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-full shadow-md transition">Deploy Rose Missile ğŸŒ¹</button>
  <div id="shareSection" class="hidden mt-5">
    <p class="text-xs text-gray-500 mb-1">Send this classified love link ğŸ’Œ</p>
    <input id="shareLink" class="w-full p-2 border rounded-lg text-xs" readonly />
  </div>
 </div>`}

function sendRose(){
 const name=nameInput.value.trim();
 const message=messageInput.value.trim();
 const photo=photoInput.value.trim();
 if(!name||!message){alert('Mission failed. Add name + message ğŸ’”');return}
 burstRoses(15)
 const baseUrl=window.location.origin+window.location.pathname;
 const link=`${baseUrl}?to=${encodeURIComponent(name)}&msg=${encodeURIComponent(message)}&pic=${encodeURIComponent(photo)}`;
 shareLink.value=link;shareSection.classList.remove('hidden')}

function dramaticScan(to,msg,pic){
 document.getElementById('app').innerHTML=`
 <div class="bg-black text-green-400 font-mono p-6 rounded-xl shadow-xl max-w-md w-full text-left">
   <p>ğŸ” Initiating Indian Navy Officer Scan...</p>
   <p class="pulse">Analyzing Commander Pookie Energy Levels...</p>
   <p class="pulse">Measuring Officer-Level Handsomeness...</p>
   <p class="pulse">Calibrating Long-Distance Hug Systems...</p>
   <p class="pulse">Scanning for Loyalty, Bravery & Secret Goofiness...</p>
   <p class="mt-3 text-pink-400 font-bold">âš  ELITE NAVY BOYFRIEND DETECTED âš </p>
   <p class="mt-2">Preparing Secure Valentine Transmission...</p>
 </div>`;
 setTimeout(()=>showReceiverView(to,msg,pic),3500)
}

function showReceiverView(to,msg,pic){
 document.getElementById('app').innerHTML=`
 <div class="bg-white shadow-xl rounded-2xl p-8 max-w-md text-center relative">
  <div class="text-5xl mb-3 wiggle">ğŸŒ¹</div>
  <h1 class="text-2xl font-bold text-pink-600 mb-1">Hello Captain ${to} aka Pookie ğŸ»</h1>
  <p class="text-xs text-gray-400 mb-3">You have received 1 classified girlfriend rose, cleared by Naval Command</p>
  ${pic?`<img src="${pic}" class="rounded-xl mb-3 max-h-56 mx-auto shadow-md"/>`:''}
  <p class="text-gray-700 mb-4">${msg}</p>
  <p class="mb-3 font-semibold text-pink-500">Commander Pookie, will you grant Valentine clearance? ğŸ’Œ</p>
  <div class="flex justify-center gap-4 relative h-12">
    <button onclick="answerYes()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full">Yes ğŸ’–</button>
    <button id="noBtn" onmouseover="moveNoButton()" class="bg-gray-300 px-4 py-2 rounded-full absolute">No ğŸ™ˆ</button>
  </div>
  <p id="responseText" class="mt-4 text-sm font-medium"></p>
 </div>`;
 burstRoses(10)
}

function moveNoButton(){const b=document.getElementById('noBtn');b.style.left=Math.random()*200-100+'px';b.style.top=Math.random()*40+'px'}
function answerYes(){responseText.innerText='Clearance APPROVED. Unlimited hugs and kisses deployed ğŸ†ğŸ’˜';burstRoses(25)}

// Router
const params=new URLSearchParams(window.location.search);
const to=params.get('to');
const msg=params.get('msg');
const pic=params.get('pic');
if(to&&msg){dramaticScan(to,msg,pic)}else{showSenderForm()}
</script>
</body>
</html>